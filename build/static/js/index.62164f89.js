/*! For license information please see index.62164f89.js.LICENSE.txt */
!function(){var e,t,n,r,o,i,u,a,l,s,c,d,f={5955:function(e,t,n){"use strict";n.r(t);var r=n("85893"),o=n("27566"),i=n("89172"),u=n("15006");n("79504");t.default=()=>(0,r.jsx)(o.Container,{mt:"5",mx:"auto",children:(0,r.jsxs)(o.Stack,{spacing:4,children:[(0,r.jsx)(i.NewTodo,{}),(0,r.jsx)(u.TodoViewer,{}),(0,r.jsx)(o.Divider,{})]})})},89172:function(e,t,n){"use strict";n.r(t),n.d(t,{NewTodo:function(){return l}});var r=n("85893"),o=n("27566"),i=n("21767"),u=n("67294"),a=n("28606");let l=()=>{let[e,t]=(0,u.useState)(""),n=(0,i.useQueryClient)(),{mutate:l}=(0,i.useMutation)({mutationFn:a.createTodo,onSuccess:e=>{n.setQueriesData(["todos","all"],t=>[...t||[],e]),n.invalidateQueries({queryKey:["todos","all"],refetchType:"none"})}});return(0,r.jsx)("form",{onSubmit:n=>{n.preventDefault(),e&&(l(e),t(""))},children:(0,r.jsxs)(o.Stack,{direction:"row",children:[(0,r.jsx)(o.Input,{value:e,onChange:e=>t(e.target.value),placeholder:"new todo..."}),(0,r.jsx)(o.Button,{type:"submit",children:"Add todo"})]})})}},88755:function(e,t,n){"use strict";n.r(t),n.d(t,{TodoItem:function(){return a}});var r=n("85893"),o=n("27566"),i=n("21767"),u=n("28606");let a=e=>{let{completed:t,id:n,title:a}=e,l=(0,i.useQueryClient)(),{mutate:s}=(0,i.useMutation)({mutationFn:()=>(0,u.toggleTodoStatus)(n,!t),onSuccess:()=>l.invalidateQueries(["todos"])});return(0,r.jsx)(o.ListItem,{children:(0,r.jsx)(o.Stack,{spacing:4,direction:"row",onClick:()=>s(),children:(0,r.jsx)(o.Checkbox,{isChecked:t,children:a})})})}},50353:function(e,t,n){"use strict";n.r(t),n.d(t,{TodoList:function(){return a}}),n("59560"),n("59734");var r=n("85893"),o=n("27566"),i=n("39522"),u=n("88755");let a=e=>{let{state:t}=e,{data:n,isLoading:a,isSuccess:l}=(0,i.useTodosQuery)(t);return(console.log(n),a)?(0,r.jsx)(o.Spinner,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"}):(0,r.jsx)(o.List,{children:l&&n.map(e=>(0,r.jsx)(u.TodoItem,{...e},e.id))})}},15006:function(e,t,n){"use strict";n.r(t),n.d(t,{TodoViewer:function(){return a}});var r=n("85893"),o=n("27566"),i=n("67294"),u=n("50353");let a=()=>{let[e,t]=(0,i.useState)("all");return(0,r.jsxs)(o.Stack,{children:[(0,r.jsxs)(o.ButtonGroup,{children:[(0,r.jsx)(o.Button,{variant:"all"===e?"outline":"solid",onClick:()=>t("all"),children:"all"}),(0,r.jsx)(o.Button,{variant:"open"===e?"outline":"solid",onClick:()=>t("open"),children:"open"}),(0,r.jsx)(o.Button,{variant:"completed"===e?"outline":"solid",onClick:()=>t("completed"),children:"completed"})]}),(0,r.jsx)(u.TodoList,{state:e})]})}},39522:function(e,t,n){"use strict";n.r(t),n.d(t,{useTodosQuery:function(){return u}}),n("42218");var r=n("27566"),o=n("21767"),i=n("28606");let u=e=>{let t=(0,r.useToast)();return console.log(e),(0,o.useQuery)({queryFn:()=>(0,i.fetchTodos)(e),queryKey:["todos",e],staleTime:5e3,onError:e=>{e instanceof Error&&t({status:"error",title:e.message,position:"top-right"})}})}},65688:function(e,t,n){"use strict";n.r(t);var r=n("85893"),o=n("67294"),i=n.n(o),u=n("20745"),a=n("5955"),l=n("27566"),s=n("21767"),c=n("77300");let d=new s.QueryClient;u.createRoot(document.getElementById("root")).render((0,r.jsx)(i().StrictMode,{children:(0,r.jsx)(s.QueryClientProvider,{client:d,children:(0,r.jsxs)(l.ChakraProvider,{children:[(0,r.jsx)(a.default,{}),(0,r.jsx)(c.ReactQueryDevtools,{initialIsOpen:!1})]})})}))},28606:function(e,t,n){"use strict";n.r(t),n.d(t,{createTodo:function(){return u},fetchTodos:function(){return o},toggleTodoStatus:function(){return i}}),n("42218");let r="http://localhost:3004/todos";async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t="all"===e?"":`?completed=${"completed"===e}`,n=await fetch(`${r}/${t}`);if(!n.ok)throw Error("Failed to fetch todos!");return n.json()}async function i(e,t){return(await fetch(`${r}/${e}`,{method:"PATCH",body:JSON.stringify({completed:t}),headers:{"Content-Type":"application/json"}})).json()}async function u(e){return(await fetch(r,{method:"POST",body:JSON.stringify({title:e,completed:!1}),headers:{"Content-Type":"application/json"}})).json()}},79504:function(e){}},p={};function h(e){var t=p[e];if(void 0!==t)return t.exports;var n=p[e]={id:e,loaded:!1,exports:{}};return f[e].call(n.exports,n,n.exports,h),n.loaded=!0,n.exports}h.m=f,h.es=function(e,t){return Object.keys(e).forEach(function(n){"default"!==n&&!Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),e},h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,{a:t}),t},h.d=function(e,t){for(var n in t)h.o(t,n)&&!h.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},h.f={},h.e=function(e){return Promise.all(Object.keys(h.f).reduce(function(t,n){return h.f[n](e,t),t},[]))},h.k=function(e){return""+e+".css"},h.u=function(e){return"static/js/async/"+e+".d27fb2f6.js"},h.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="lern-platform:",h.l=function(n,r,o,i){if(e[n]){e[n].push(r);return}if(void 0!==o){for(var u,a,l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var c=l[s];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+o){u=c;break}}}!u&&(a=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,h.nc&&u.setAttribute("nonce",h.nc),u.setAttribute("data-webpack",t+o),u.src=n),e[n]=[r];var d=function(t,r){u.onerror=u.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach(function(e){return e(r)}),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),a&&document.head.appendChild(u)},h.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},h.nc=void 0,n=[],h.O=function(e,t,r,o){if(t){o=o||0;for(var i=n.length;i>0&&n[i-1][2]>o;i--)n[i]=n[i-1];n[i]=[t,r,o];return}for(var u=1/0,i=0;i<n.length;i++){for(var t=n[i][0],r=n[i][1],o=n[i][2],a=!0,l=0;l<t.length;l++)u>=o&&Object.keys(h.O).every(function(e){return h.O[e](t[l])})?t.splice(l--,1):(a=!1,o<u&&(u=o));if(a){n.splice(i--,1);var s=r();void 0!==s&&(e=s)}}return e},h.p="/",r={126:0,361:0,909:0},o="lern-platform",i="data-webpack-loading",u=function(e,t,n,r){var u,a,l="chunk-"+e;if(!r){for(var s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var d=s[c],f=d.getAttribute("href")||d.href;if(f&&!f.startsWith(h.p)&&(f=h.p+(f.startsWith("/")?f.slice(1):f)),"stylesheet"==d.rel&&(f&&f.startsWith(t)||d.getAttribute("data-webpack")==o+":"+l)){u=d;break}}if(!n)return u}!u&&(a=!0,(u=document.createElement("link")).setAttribute("data-webpack",o+":"+l),u.setAttribute(i,1),u.rel="stylesheet",u.href=t);var p=function(e,t){if(u.onerror=u.onload=null,u.removeAttribute(i),clearTimeout(m),t&&"load"!=t.type&&u.parentNode.removeChild(u),n(t),e)return e(t)};if(u.getAttribute(i)){var m=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload)}else p(void 0,{type:"load",target:u});return r?r.parentNode.insertBefore(u,r):a&&document.head.appendChild(u),u},h.f.css=function(e,t){var n=h.o(r,e)?r[e]:void 0;if(0!==n){if(n)t.push(n[2]);else if(980==e){var o=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=o);var i=h.p+h.k(e),a=Error();u(e,i,function(t){if(h.o(r,e)&&(0!==(n=r[e])&&(r[e]=void 0),n)){if("load"!==t.type){var o=t&&t.type,i=t&&t.target&&t.target.src;a.message="Loading css chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}else n[0]()}})}else r[e]=0}},a=function(e,t){var n=t[0];e&&e(t);for(var o=0;o<n.length;o++)void 0===r[n[o]]&&(r[n[o]]=0)},(l=self.webpackChunklern_platform=self.webpackChunklern_platform||[]).forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l)),s={980:0},h.f.j=function(e,t){var n=h.o(s,e)?s[e]:void 0;if(0!==n){if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=s[e]=[t,r]});t.push(n[2]=r);var o=h.p+h.u(e),i=Error();h.l(o,function(t){if(h.o(s,e)&&(0!==(n=s[e])&&(s[e]=void 0),n)){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n[1](i)}},"chunk-"+e,e)}}},h.O.j=function(e){return 0===s[e]},c=function(e,t){var n=t[0],r=t[1],o=t[2],i,u,a=0;if(n.some(function(e){return 0!==s[e]})){for(i in r)h.o(r,i)&&(h.m[i]=r[i]);if(o)var l=o(h)}for(e&&e(t);a<n.length;a++)u=n[a],h.o(s,u)&&s[u]&&s[u][0](),s[u]=0;return h.O(l)},(d=self.webpackChunklern_platform=self.webpackChunklern_platform||[]).forEach(c.bind(null,0)),d.push=c.bind(null,d.push.bind(d));var m=h.O(void 0,["126","361","909"],function(){return h("65688")});h.O(m)}();